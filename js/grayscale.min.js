/*!
 * Start Bootstrap - Grayscale v5.0.1 (https://startbootstrap.com/template-overviews/grayscale)
 * Copyright 2013-2018 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-grayscale/blob/master/LICENSE)
 */
!function(r){"use strict";var n,a=0,e=location.href;-1!=e.indexOf("#success")?r("#modalSuccess").modal("show"):-1!=e.indexOf("#failure")?r("#modalFailure").modal("show"):-1!=e.indexOf("#cancelled")&&r("#modalCancelled").modal("show"),r("#serviceCharge").text(5),r('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=r(this.hash);if((e=e.length?e:r("[name="+this.hash.slice(1)+"]")).length)return r("html, body").animate({scrollTop:e.offset().top-70},1e3,"easeInOutExpo"),!1}}),r(".js-scroll-trigger").click(function(){r(".navbar-collapse").collapse("hide")}),r("body").scrollspy({target:"#mainNav",offset:100});var t=function(){100<r("#mainNav").offset().top?r("#mainNav").addClass("navbar-shrink"):r("#mainNav").removeClass("navbar-shrink")};function o(){if(i(n)){var e=r("#amount").val();i(e)&&0<e-5?(a=Math.round((e-5)*n),r("#amountHelp").text("After $5 service charge, $"+(e-5).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" @ Rs."+n+" will be Rs. "+function(e){for(var a="",n=e.toString().split("."),t=n[0].length-1;0<=t;t--)0<a.length&&a.length%3==0&&(a=","+a),a=n[0][t]+a;1<n.length&&(a=a+"."+n[1]);return a}(a)+".")):r("#amountHelp").text("Today's exchange rate is Rs. "+n+" for one aussie dollar.")}}function i(e){return!isNaN(parseFloat(e))&&!isNaN(e-0)}t(),r(window).scroll(t),r.ajax({url:"https://free.currencyconverterapi.com/api/v5/convert?q=AUD_NPR&compact=ultra"}).done(function(e){if(void 0!==e&&null!=e){var a=e.AUD_NPR;i(a)&&(a+=2,n=Math.round(100*a)/100,o())}}),r("#amount").change(function(){o()}),r("#transferForm").submit(function(e){e.preventDefault();var o=r("#amount").val();if(i(o)){var a=r("#mobile").val(),n={Amount:o,Reference:a,Key:"1ef33243-96c8-44f9-abf7-8dfac14c3226"};r("#buttonPay").addClass("d-none"),r("#spinner").removeClass("d-none"),r.ajax({contentType:"application/json",url:"https://money2nepal.azurewebsites.net/api/5ee2f588-8970-452c-9403-bf2b1af58cf4",data:JSON.stringify(n),type:"POST"}).done(function(e){if(0!=e.errorCode)alert("Sorry, something went wrong.");else{var a={Amount:o,Email:r("#email").val(),Name:r("#name").val(),Mobile:r("#mobile").val(),RecipientName:r("#recipientName").val(),RecipientMobile:r("#recipientMobile").val(),Instructions:r("#instructions").val(),Declaration:r("#declaration").is(":checked")},n=JSON.stringify(a),t=e.transactionRefNo;localStorage.setItem(t,n),window.location.href=e.navigateURL}}).fail(function(){alert("Sorry, something went wrong processing your request."),r("#spinner").addClass("d-none"),r("#buttonPay").removeClass("d-none")})}})}(jQuery);